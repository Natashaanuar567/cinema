<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RVC Movies</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* General Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      color: #ffffff;
      background: linear-gradient(45deg, #db0795, #a30606);
      min-height: 100vh;
    }

    /* Hero Section */
    .hero-section {
      background: linear-gradient(45deg, #db0795, #a30606);
      color: white;
      padding: 50px 20px;
      text-align: center;
    }

    .hero-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .hero-content h1 {
      font-size: 2.5em;
      margin-bottom: 20px;
    }

    .hero-content h1 span {
      color: #ffcccb;
    }

    .hero-content p {
      font-size: 18px;
      margin-top: 10px;
    }

    /* Navigation Bar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #2a2a2a;
      padding: 15px 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
    }

    .nav-links li a {
      color: #ffffff;
      font-size: 16px;
      padding: 8px 12px;
      border-radius: 5px;
      transition: background 0.3s;
      text-decoration: none;
    }

    .nav-links li a:hover {
      background: #7b0435;
    }

    .logo {
      display: flex;
      align-items: center;
    }

    .logo img {
      width: 50px;
      height: 50px;
      margin-right: 10px;
      border-radius: 50%;
    }

    .logo h1 {
      font-size: 24px;
      text-transform: uppercase;
    }

    .logo h1 span {
      color: #db0795;
    }

    .btn-login {
      font-weight: bold;
      font-size: 15px;
      background: #db0795;
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      display: flex;
      align-items: center;
      transition: background 0.3s;
    }

    .btn-login img {
      height: 20px;
      margin-right: 10px;
    }

    .btn-login:hover {
      background: #a30606;
    }

    /* Movie Section Title */
    .movie-section-title {
      text-align: center;
      font-size: 2.5em;
      margin: 40px 0;
      color: #fff;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
    }

    /* Movie Grid */
    .movie-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .movie-card {
      background-color: rgba(31, 31, 31, 0.9);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      transition: transform 0.3s ease;
      cursor: pointer;
    }

    .movie-card:hover {
      transform: scale(1.03);
    }

    .movie-card img {
      width: 100%;
      height: 400px;
      object-fit: cover;
      border-bottom: 3px solid #db0795;
    }

    .movie-card .content {
      padding: 20px;
    }

    .movie-card h3 {
      font-size: 1.5em;
      margin: 0 0 15px 0;
      color: #ffcccb;
      text-align: center;
    }

    .movie-card p {
      margin: 10px 0;
      color: #fff;
      font-size: 0.95em;
      line-height: 1.4;
    }

    .movie-card .price {
      font-size: 1.2em;
      color: #db0795;
      font-weight: bold;
      margin-top: 15px;
      text-align: center;
    }

    /* Seat Selection Section */
    .seat-selection {
      display: none;
      background: rgba(0, 0, 0, 0.9);
      padding: 30px;
      border-radius: 15px;
      margin: 20px auto;
      max-width: 900px;
    }

    .seat-selection h2 {
      color: #ffcccb;
      text-align: center;
      margin-bottom: 30px;
      font-size: 1.8em;
    }

    /* Time Selection */
    .time-buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
    }

    .time-btn {
      background: #333;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .time-btn:hover,
    .time-btn.selected {
      background: #db0795;
      transform: scale(1.05);
    }

    /* Seats Grid */
    .seats {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 10px;
      margin: 30px auto;
      max-width: 800px;
    }

    .seat {
      aspect-ratio: 1;
      background-color: #333;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 0.9em;
      transition: all 0.3s ease;
    }

    .seat:hover {
      background-color: #db0795;
      transform: scale(1.1);
    }

    .seat.selected {
      background-color: #db0795;
      transform: scale(0.95);
    }

    /* Selection Summary */
    .selection-summary {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }

    .selection-summary h3 {
      color: #ffcccb;
      margin-bottom: 15px;
      text-align: center;
    }

    .selection-summary p {
      margin: 10px 0;
      font-size: 1.1em;
    }

    /* Confirm Button */
    .confirm-selection {
      text-align: center;
      margin-top: 30px;
    }

    .confirm-selection button {
      background: #db0795;
      color: white;
      border: none;
      padding: 15px 40px;
      font-size: 1.2em;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .confirm-selection button:hover {
      background: #a30606;
      transform: scale(1.05);
    }

    .confirm-selection button:disabled {
      background: #666;
      cursor: not-allowed;
      transform: none;
    }

    /* Footer */
    .footer {
      background-color: #61083a;
      color: white;
      padding: 30px 20px;
      text-align: center;
      margin-top: 50px;
    }

    .footer h3 {
      color: #db0795;
      margin-bottom: 15px;
    }

    .social-links {
      margin: 20px 0;
    }

    .social-links a {
      margin: 0 10px;
    }

    .social-links img {
      width: 30px;
      transition: transform 0.3s;
    }

    .social-links img:hover {
      transform: scale(1.2);
    }

    /* Back to Top Button */
    #back-to-top {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #db0795;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: none;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      cursor: pointer;
      border: none;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    #back-to-top:hover {
      background-color: #a30606;
      transform: scale(1.1);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .navbar {
        flex-direction: column;
        padding: 10px;
      }

      .nav-links {
        flex-direction: column;
        text-align: center;
      }

      .hero-content h1 {
        font-size: 2em;
      }

      .movie-grid {
        grid-template-columns: 1fr;
        padding: 10px;
      }

      .seats {
        grid-template-columns: repeat(6, 1fr);
      }

      .time-buttons {
        flex-direction: column;
        align-items: center;
      }

      .time-btn {
        width: 80%;
      }

      .seat-selection {
        margin: 20px 10px;
        padding: 15px;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .movie-card {
      animation: fadeIn 0.5s ease-out;
    }
  </style>
</head>

<body>
  <!-- Header Section -->
  <header class="hero-section">
    <nav class="navbar">
      <div class="logo">
        <img src="logo.jpeg" alt="RedVibe Cinema Logo">
        <h1>Red<span>Vibe</span>Cinema</h1>
      </div>
      <ul class="nav-links">
        <li><a href="index.html">HOME</a></li>
        <li><a href="movie.html">MOVIE</a></li>
        <li><a href="food.html">FOOD</a></li>
        <li><a href="aboutus.html">ABOUT US</a></li>
      </ul>
      <a href="login.html" class="btn-login">
        <img src="user.png" alt="User Icon">LOGIN
      </a>
    </nav>
    <div class="hero-content">
      <h1>Welcome to <span>RedVibe Cinema</span></h1>
      <p>Experience movies like never before, where entertainment meets luxury in every showtime.</p>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <h1 class="movie-section-title">NOW SHOWING</h1>
    <div class="movie-grid" id="movieGrid"></div>

    <!-- Seat Selection Section -->
    <div id="seat-selection" class="seat-selection">
      <h2>Select Your Seats for "<span id="selected-movie-title"></span>"</h2>
      <div class="movie-info">
        <p class="price" id="selected-movie-price"></p>
      </div>

      <!-- Time Selection -->
      <div class="time-selection">
        <p><strong>Select Show Time:</strong></p>
        <div id="movie-time" class="time-buttons">
          <!-- Time buttons will be dynamically inserted here -->
        </div>
      </div>

      <!-- Seats Grid -->
      <div class="seats" id="seats">
        <!-- Seats will be dynamically inserted here -->
      </div>

      <!-- Selection Summary -->
      <div id="selection-summary" class="selection-summary">
        <!-- Summary will be dynamically updated -->
      </div>

      <!-- Confirm Button -->
      <div class="confirm-selection">
        <button onclick="confirmSelection()" disabled>Confirm Selection</button>
      </div>
    </div>
  </main>

  <!-- Back to Top Button -->
  <button id="back-to-top" title="Back to Top">↑</button>

  <!-- Footer -->
  <footer class="footer">
    <h3>Contact Us</h3>
    <p>Email: support@redvibe.com | Phone: +123 456 7890</p>
    <div class="social-links">
      <a href="#"><img src="facebook.png" alt="Facebook"></a>
      <a href="#"><img src="twitter.png" alt="Twitter"></a>
      <a href="#"><img src="ig.png" alt="Instagram"></a>
    </div>
    <p>© 2025 RedVibe Cinema. All Rights Reserved.</p>
  </footer>

  <script>
    const movies = [
      {
        title: "Strawberri Ajaib",
        times: ['12:00 PM', '3:30 PM', '7:00 PM'],
        price: 18.00,
        image: "strawberi.jpg",
        genre: "Fantasy, Adventure",
        synopsis: "Seorang wanita di desa kampung kecil yang merupakan seorang jago tanaman tetapi kehidupannya yang sangat sunyi menyebabkan dia berhasrat untuk mendapatkan seorang putri kecil untuk menemani hari-harinya..."
      },
      {
        title: "Team Adventure",
        times: ['12:00 PM', '2:00 PM', '4:30 PM', '8:00 PM'],
        price: 17.00,
        image: "adventure.jpg",
        genre: "Adventure",
        synopsis: "A group of teenagers consisting of 5 people want to go on an adventure around the high hills. But something unexpected has happened."
      },
      {
        title: "Cookies with Pancakes",
        times: ['1:00 PM', '4:30 PM', '7:00 PM'],
        price: 19.00,
        image: "cookies.jpg",
        genre: "Romance",
        synopsis: "Penjual cookies dan Penjual pancakes yang bergaduh di setiap hari. Namun ada sesuatu yang telah terjadi di antara mereka berdua yang menyebabkan mereka jatuh cinta antara satu sama lain..."
      },
      {
        title: "Alene's Boutique",
        times: ['11:00 AM', '2:00 PM', '5:00 PM'],
        price: 15.00,
        image: "butik.jpg",
        genre: "Romance",
        synopsis: "A woman who wants her childhood dreams to come true but her parents don't allow her desires. But a man appears to fulfill her dream."
      },
      {
        title: "Just of two us",
        times: ['11:30 AM', '1:00 PM', '7:00 PM'],
        price: 16.00,
        image: "us.jpg",
        genre: "Tragedy",
        synopsis: "A newly married couple who want children. But there was an accident that happened..."
      },
      {
        title: "Love or Die",
        times: ['12:00 PM', '2:30 PM', '4:00 PM', '6:00 PM', '9:00 PM'],
        price: 15.00,
        image: "love.jpg",
        genre: "Horror",
        synopsis: "The mystery of the disappearance of many women and girls on the side of the road caused the police to receive many cases of families missing their daughters. Has there been a murder?"
      }
    ];

    // State management
    let selectedMovie = null;
    let selectedTime = null;
    let selectedSeats = [];

    // Initialize the page
    function initializePage() {
      renderMovies();
      setupEventListeners();
    }

    // Render all movies to the grid
    function renderMovies() {
      const movieGrid = document.getElementById('movieGrid');
      movieGrid.innerHTML = '';

      movies.forEach(movie => {
        const movieCard = document.createElement('div');
        movieCard.classList.add('movie-card');
        movieCard.innerHTML = `
            <img src="${movie.image}" alt="${movie.title}">
            <div class="content">
                <h3>${movie.title}</h3>
                <p><strong>Time:</strong> ${movie.times.join(', ')}</p>
                <p><strong>Genre:</strong> ${movie.genre}</p>
                <p><strong>Synopsis:</strong> ${movie.synopsis}</p>
                <p class="price">Price: RM${movie.price.toFixed(2)}</p>
            </div>
        `;
        movieCard.addEventListener('click', () => showSeatSelection(movie));
        movieGrid.appendChild(movieCard);
      });
    }

    function showSeatSelection(movie) {
      selectedMovie = movie;
      selectedSeats = []; // Reset selected seats
      selectedTime = null; // Reset selected time

      const seatSelection = document.getElementById('seat-selection');
      // Fix: Change to match the correct ID from HTML
      const movieTitle = document.getElementById('selected-movie-title');

      // Update movie info
      movieTitle.textContent = movie.title;

      // Create time selection buttons
      const timeContainer = document.getElementById('movie-time');
      const timeButtons = movie.times.map(time => `
    <button class="time-btn" onclick="selectTime('${time}')">${time}</button>
  `).join('');

      timeContainer.innerHTML = timeButtons;

      // Render seats
      renderSeats();

      // Show the selection section
      seatSelection.style.display = 'block';
      seatSelection.scrollIntoView({ behavior: 'smooth' });

      // Update selection summary
      updateSelectionSummary();
    }

    // Render seat grid
    function renderSeats() {
      const seatsContainer = document.getElementById('seats');
      seatsContainer.innerHTML = '';

      for (let i = 0; i < 60; i++) {
        const seat = document.createElement('div');
        seat.classList.add('seat');
        seat.textContent = i + 1;
        seat.addEventListener('click', () => toggleSeat(i + 1, seat));
        seatsContainer.appendChild(seat);
      }
    }

    // Handle time selection
    function selectTime(time) {
      selectedTime = time;
      // Update UI to show selected time
      document.querySelectorAll('.time-btn').forEach(btn => {
        btn.classList.remove('selected');
        if (btn.textContent === time) {
          btn.classList.add('selected');
        }
      });
      updateSelectionSummary();
    }

    // Toggle seat selection
    function toggleSeat(seatNumber, seatElement) {
      const index = selectedSeats.indexOf(seatNumber);
      if (index > -1) {
        selectedSeats.splice(index, 1);
        seatElement.classList.remove('selected');
      } else {
        selectedSeats.push(seatNumber);
        seatElement.classList.add('selected');
      }
      updateSelectionSummary();
    }

    // Update selection summary
    function updateSelectionSummary() {
      const summary = document.createElement('div');
      summary.classList.add('selection-summary');

      if (selectedMovie && selectedTime && selectedSeats.length > 0) {
        const totalPrice = selectedMovie.price * selectedSeats.length;
        summary.innerHTML = `
            <h3>Your Selection</h3>
            <p><strong>Movie:</strong> ${selectedMovie.title}</p>
            <p><strong>Time:</strong> ${selectedTime}</p>
            <p><strong>Seats:</strong> ${selectedSeats.sort((a, b) => a - b).join(', ')}</p>
            <p><strong>Total Price:</strong> RM${totalPrice.toFixed(2)}</p>
        `;

        // Enable confirm button
        document.querySelector('.confirm-selection button').disabled = false;
      } else {
        summary.innerHTML = `
            <p>Please select a time and seats to continue</p>
        `;
        // Disable confirm button
        document.querySelector('.confirm-selection button').disabled = true;
      }

      const summaryContainer = document.getElementById('selection-summary');
      summaryContainer.innerHTML = '';
      summaryContainer.appendChild(summary);
    }

    // Confirm selection and proceed to payment
    function confirmSelection() {
      if (!selectedMovie || !selectedTime || selectedSeats.length === 0) {
        alert('Please select a movie time and at least one seat to continue.');
        return;
      }

      // Store selection in sessionStorage
      const selection = {
        movieTitle: selectedMovie.title,
        moviePrice: selectedMovie.price,
        showtime: selectedTime,
        seats: selectedSeats,
        totalPrice: selectedMovie.price * selectedSeats.length
      };

      sessionStorage.setItem('movieSelection', JSON.stringify(selection));

      // Redirect to payment page
      window.location.href = 'payment.html';
    }

    // Setup event listeners
    function setupEventListeners() {
      // Back to top button functionality
      const backToTop = document.getElementById('back-to-top');
      if (backToTop) {
        window.addEventListener('scroll', () => {
          if (window.scrollY > 300) {
            backToTop.style.display = 'block';
          } else {
            backToTop.style.display = 'none';
          }
        });

        backToTop.addEventListener('click', () => {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });
      }
    }

    // Initialize when the page loads
    document.addEventListener('DOMContentLoaded', initializePage);

    function proceedToPayment() {
      const selectedMovie = document.getElementById('movieName').value;
      const selectedPrice = document.getElementById('moviePrice').value;
      const selectedSeat = document.getElementById('seatNumber').value;

      // Redirect ke payment.html dengan query parameter
      const url = `payment.html?movie=${encodeURIComponent(selectedMovie)}&price=${encodeURIComponent(selectedPrice)}&seat=${encodeURIComponent(selectedSeat)}`;
      window.location.href = url;
    }
  </script>

</body>

</html>